<form id="perfil" [formGroup]="formulario" class="justify-content-center">
  <div class="card my-2">
    <div class="card-header" *ngIf="tipoPessoa == 'juridica'">Dados do cadastro da Empresa</div>
    <div class="card-header" *ngIf="ehChildren" >Dados do cadastro do Comprador</div>
    <div class="card-body">

      <div class="form-row">

        <div *ngIf="false"  class="col-sm-6">
          <label>Foto do perfil</label>
          <div class="thumb">
            <img [src]="url">
          </div>


          <div class="inputadd">
            <label class="file-label">
              <input class="file-input" type="file" name="resume" (change)="onTrocaImg($event)" >
              <div class="btn btn-primary">Trocar Foto</div>
            </label>
          </div>
        </div>

        <div class="col-sm-6">
          <label>Foto do perfil</label>
            <div class="personal-image ">
            <label class="label">
              <input type="file" (change)="onTrocaImg($event)"/>
              <figure class="personal-figure">
                <img [src]="url" class="personal-avatar" alt="avatar">
                <figcaption class="personal-figcaption">
                  <img [src]="camerawhite">
                </figcaption>
              </figure>
            </label>
          </div>

          <div class="inputadd">
            <label class="file-label">
              <input class="file-input" type="file" name="resume" (change)="onTrocaImg($event)" >
              <div class="btn btn-primary">Trocar Foto</div>
            </label>
          </div>
        </div>

        <div class="col-sm-6">
          <div class="form-row" *ngIf="tipoPessoa == 'fisica'">
            <label for="inputNome" required>Seu Nome</label>
            <input type="text" class="form-control" id="inputNome" placeholder="Nome" formControlName="name">
          </div>
          <div class="form-row" *ngIf="(tipoPessoa == 'juridica') || ehChildren">
            <label for="inputNome" required>Razão Social</label>
            <input type="text" class="form-control" id="inputRzaosocial" placeholder="Razão Social"
              formControlName="nomeempresa">
          </div>

          <div class="form-row" *ngIf="tipoPessoa == 'fisica'">
            <label for="profissao">CPF</label>
            <input type="text" class="form-control" mask="000.000.000-00" formControlName="cpf">
          </div>
          <div class="form-row" *ngIf="(tipoPessoa == 'juridica') || ehChildren">
            <label for="profissao">CNPJ</label>
            <input type="text" class="form-control" mask="00.000.000/0000-00" formControlName="cnpj">
          </div>
          <div class="form-row">
            <label for="inputEmail">Seu Email</label>
            <input type="text" class="form-control" formControlName="email" readonly>
          </div>
          <div class="form-row">
            <label for="telefone">Telefone</label>
            <input type="text" class="form-control" mask="(00) 0 0000-0000"
              formControlName="telefone">
          </div>
          <div class="form-row" *ngIf="tipoPessoa == 'fisica'">
            <label for="profissao">Profissão</label>
            <input type="text" class="form-control" formControlName="profissao">
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card my-2">
    <div class="card-header">Endereço</div>
    <div class="card-body">
      <div class="form-row">
        <div class="form-group col-sm-4">
          <label for="pais">País</label>
          <input type="text" class="form-control" formControlName="pais">
        </div>
        <div class="form-group col-sm-4">
          <label for="cidade">Cidade</label>
          <input type="text" class="form-control" formControlName="cidade">
        </div>
        <div class="form-group col-sm-4">
          <label for="estado">Estado</label>
          <input type="text" class="form-control" formControlName="estado">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-sm-4" *ngIf="tipoPessoa == 'fisica'">
          <label for="endereco">Endereço</label>
          <input type="text" class="form-control" formControlName="endereco">
        </div>
        <div class="form-group col-sm-3" *ngIf="tipoPessoa == 'fisica'">
          <label for="endereco">Bairro</label>
          <input type="text" class="form-control" formControlName="bairro">
        </div>
        <div class="form-group col-sm-3" *ngIf="tipoPessoa == 'fisica'">
          <label for="endereco">Complemento</label>
          <input type="text" class="form-control" formControlName="complemento">
        </div>
        <div class="form-group col-sm-2" *ngIf="tipoPessoa == 'fisica'">
          <label for="CEP">CEP</label>
          <input type="text" class="form-control" mask="000.000-000" formControlName="cep">
        </div>
        <div class="form-group col-sm-8" *ngIf="tipoPessoa == 'juridica'">
          <label for="endereco">Endereço</label>
          <input type="text" class="form-control" formControlName="endereco">
        </div>
        <div class="form-group col-sm-4" *ngIf="tipoPessoa == 'juridica'">
          <label for="CEP">CEP</label>
          <input type="text" class="form-control" mask="00.000-000" formControlName="cep">
        </div>

      </div>

    </div>
  </div>

  <div class="form-row pb-3">
    <div class="col-sm-12 text-center">
      <button type="submit" style="margin-right: 15px;" class="btn btn-primary " [disabled]="(!formulario.dirty) && (trocarFoto)"
        (click)="onSubmit()">Salvar </button>
    </div>
  </div>

</form>


<!-- Spinner de load-->
<div class="spinner" *ngIf="showSpinner"></div>
